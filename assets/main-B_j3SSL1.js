import"./style-Cif0AnDf.js";const i="https://api.github.com/repos/mdelgert/ImprovWiFiWeb/releases",a=document.getElementById("firmware-select"),s=document.getElementById("install-button");async function c(){try{const e=await fetch(i);if(!e.ok)throw new Error(`GitHub API error: ${e.statusText}`);const t=await e.json();m(t)}catch(e){console.error("Failed to fetch releases:",e)}}function m(e){e.forEach(t=>{const n=t.tag_name,o=`firmware/${n}.json`,r=document.createElement("option");r.value=o,r.textContent=`${n}`,a.appendChild(r)}),e.length>0&&s.setAttribute("manifest",`firmware/${e[0].tag_name}.json`)}a.addEventListener("change",e=>{const t=e.target.value;s.setAttribute("manifest",t)});const l=document.querySelector("esp-web-install-button");l.overrides={checkSameFirmware(e,t){const n=e.name.toLowerCase(),o=t.firmware.toLowerCase();return n.includes(o)}};c();

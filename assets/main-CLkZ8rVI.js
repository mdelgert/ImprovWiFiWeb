import"./style-qiVDcRWx.js";const c="https://api.github.com/repos/mdelgert/ImprovWiFiWeb/releases",s=document.getElementById("firmware-select"),a=document.getElementById("install-button");async function l(){try{const e=await fetch(c);if(!e.ok)throw new Error(`GitHub API error: ${e.statusText}`);const t=await e.json();m(t)}catch(e){console.error("Failed to fetch releases:",e)}}function m(e){const t=e.slice(0,3);t.forEach(o=>{const n=o.tag_name,i=`firmware/${n}.json`,r=document.createElement("option");r.value=i,r.textContent=`${n}`,s.appendChild(r)}),t.length>0&&a.setAttribute("manifest",`firmware/${t[0].tag_name}.json`)}s.addEventListener("change",e=>{const t=e.target.value;a.setAttribute("manifest",t)});const u=document.querySelector("esp-web-install-button");u.overrides={checkSameFirmware(e,t){const o=e.name.toLowerCase(),n=t.firmware.toLowerCase();return o.includes(n)}};l();
